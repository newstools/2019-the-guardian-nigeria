Walmart reported improved results Thursday on solid US sales and e-commerce growth and again defended its decision to keep selling some guns after a mass shooting at a Texas store. Net income was $3.6 billion, up from an $861 million loss in the year-ago period, when one-time costs related to its Brazil business dented results. Revenues rose 1.8 percent to $130.4 billion. Comparable sales in the US rose 2.8 percent, while US e-commerce sales surged 37 percent. The company lifted some of its full-year profit targets. Shares surged 6.6 percent to $113.25 in pre-market trading following the results, which topped expectations. Gun control advocates have called on the retail giant to end gun sales after a gunman who posted a manifesto complaining about Hispanics killed 22 people in an attack at a Walmart in El Paso, Texas. Walmart has limited some firearms sales over the years following mass shootings, halting sales of military-style weapons in 2015 and raising the age limit to purchase a firearm to 21 in 2018 after an attack at a Florida school. But the company has continued to sell some guns following a background check. “We’ve attempted to take common-sense steps that allow us to serve customers and create a safer environment,” said Walmart Chief Executive Doug McMillon. “We estimate that represents about two percent of the market for firearms today, which we believe places us outside at least the top three sellers in the industry. We estimate we have about 20 percent share of ammunition. McMillon said a ban on assault weapons “should be debated to determine its effectiveness in keeping weapons made for war out of the hands of mass murderers.” To enable commenting and other interactive features, please switch to the more advanced .